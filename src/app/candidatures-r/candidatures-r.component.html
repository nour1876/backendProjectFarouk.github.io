<section class="section-hero  inner-page fixed;" style="background: linear-gradient(120deg,#020505, #033e8c);" id="home-section">
</section>
<div class="site-wrap">

<div class="site-mobile-menu site-navbar-target">
  <div class="site-mobile-menu-header">
    <div class="site-mobile-menu-close mt-3">
      <span class="icon-close2 js-menu-toggle"></span>
    </div>
  </div>
  <div class="site-mobile-menu-body"></div>
</div>  <!-- .site-mobile-menu -->


<!-- NAVBAR --> 


<header class="site-navbar mt-4">
    

  <div class="container-fluid">
    <div class="row align-items-center">
        <div class="site-logo col-6 "><a href="index.html" ><img src="../../assets/img/SkillPro.png" style="width: 100; border-radius: 50%;"alt="" title=""></a></div>

      <nav class="mx-auto site-navigation d-flex aligin-items-center col-5">
        <ul class="site-menu js-clone-nav d-none d-xl-block ml-0 pl-0">
          <li><a href="c">Profile</a></li>
          <li><a href="offre">offre</a></li>
          <div class=" d-lg-none nav-item dropdown">
            <div class="nav-link " id="profileDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <img src="{{recruiter.logo}} "class="img-fluid rounded-circle " style="width: 40px;"> <!-- icône de profil -->
            </div>
            <div class="dropdown-menu " aria-labelledby="profileDropdown">
              <a class="dropdown-item " href="c">Profile</a> <!-- lien vers les paramètres -->
               <!-- lien vers les paramètres -->

              <a class="dropdown-item " href="login">Déconnexion</a> <!-- lien de déconnexion -->
            </div>
          </div>   
          
        </ul>
      </nav>
      
      <div class="right-cta-menu text-right d-flex aligin-items-center col-6">
        <div class="ml-auto">
        
            <div class=" .d-md-none .d-lg-block
            " id="profileDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img src=" {{recruiter.logo}}" class="img-fluid rounded-circle " style="width: 40px;"> <!-- icône de profil -->
            </div>
            <div class="dropdown-menu" aria-labelledby="profileDropdown">
              <a class="dropdown-item" href="c">Profile</a> <!-- lien vers les paramètres -->
              <a class="dropdown-item " href="parametre">Paramétres</a> <!-- lien vers les paramètres -->

              <a class="dropdown-item" href="login">Déconnexion</a> <!-- lien de déconnexion -->
            </div>
        </div>
        <a href="#" class="site-menu-toggle js-menu-toggle d-inline-block d-xl-none mt-lg-2 ml-3"><span class="icon-menu h3 m-0 p-0 mt-2"></span></a>
      </div>

    </div>
  </div>

</header>



  <body id="top">

    <body>



      <!-- Hero Area End -->
      <!-- Job List Area Start -->
      <div class="job-listing-area pt-100 pb-120 ">
        <div class="container1 ml-3">
          <div class="row">
            <!-- Left content -->
            <div class="col-xl-3 col-lg-3 col-md-4">
              <div class="row">




                <div class="profile">
                  <img src="{{recruiter.logo}}" alt="" class="img-fluid rounded-circle">
                  <h1 class="text-dark">{{recruiter.companyName}}</h1>
                  <h2 class=" small text-dark mt-2 mb-2">{{recruiter.email}}</h2>
                  <h5 class=" small text-muted "><i class="bi bi-geo-alt"></i><a
                      href="index.html">{{recruiter.city}}</a></h5>
                  <div class="social-links mt-3 text-center">
                    <div class="d-flex justify-content-center rounded-3 p-2 mb-2">
                      <div>

                        <p class="mb-0">4</p>
                        <p class="small text-muted mb-1">Evenement</p>
                      </div><span class="mx-2">|</span>
                      <div class="px-3">

                        <p class="mb-0">{{offer_count ? offer_count + ' offers' : '0 offers'}}</p>
                        <p class="small text-muted mb-1">Offre publieé</p>
                      </div><span class="mx-2">|</span>
                      <div>

                        <p class="mb-0">15k</p>
                        <p class="small text-muted mb-1">Abonnés</p>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-6 mt-3 ">
                  <a class="btn   btn-block text-white" style="background-color: #1053BB; " href="r" type="button">
                    Retour</a>
                </div>
                <div class="col-md-6 mt-3 ">
                  <a class="btn   btn-block text-white" style="background-color: #6c757d; " href="candidaturesR"
                    type="button"> Offres</a>
                  <br> <br>
                </div>
                <h5 class="text-dark mt-2 mb-2">{{recruiter.sectionTitle}}</h5>
                <p class="small text-muted mb-1">{{recruiter.sectionDescription}}<br><br> </p>




              </div>

              <!-- Job Category Listing End -->


            </div>
            <!-- Right content -->
            <div class="col-xl-9 col-lg-9 col-md-9">
              <!-- Featured_job_start -->
              <section class="featured-job-area">
                <div class="container ">
                  <!-- Count of Job list Start -->
                  <div class="row">

                    <div class="col-lg-12">

                      <!-- Page Wrapper -->
                      <div id="wrapper">

                        <!-- Sidebar -->
                        <ul class="navbar-nav  sidebar sidebar-dark accordion" style="background:#1053BB;"
                          id="accordionSidebar">

                          <!-- Sidebar - Brand -->
                          <a class="sidebar-brand d-flex align-items-center justify-content-center">
                            <div class="sidebar-brand-icon rotate-n-15">

                            </div>
                            <div class="sidebar-brand-text mx-3"> Offres<sup></sup></div>
                          </a>

                          <!-- Divider -->
                          <hr class="sidebar-divider my-0">


                          <!-- Divider -->
                          <hr class="sidebar-divider">
                          <hr class="sidebar-divider my-0 mb-2" style="color: #f2f2f2;">


                          <!-- Heading -->
                          <div class="sidebar-heading">
                            Offres 
                          </div>


                          <div *ngFor="let offer of recruiter.offerEntity; let i = index">
                            <li class="nav-item">
                              <a class="nav-link collapsed" href="#" data-toggle="collapse"
                                [attr.data-target]="'#collapse' + i" aria-expanded="true"
                                [attr.aria-controls]="'collapse' + i">
                                <span>{{offer.title}}</span>
                              </a>
                              <div [id]="'collapse' + i" class="collapse" aria-labelledby="headingTwo"
                                data-parent="#accordionSidebar">
                                <div class="bg-white py-2 collapse-inner rounded">
                                  <a class="collapse-item" (click)="selectRegistrationOffer(offer.categorie)">Tous</a>
                                </div>
                              </div>
                            </li>
                          </div>

                        </ul>


                        <div id="content-wrapper" class="d-flex flex-column">

                          <!-- Main Content -->
                          <div id="content">

                            <!-- Begin Page Content -->
                            <div class="container-fluid">

                              <!-- Page Heading -->
                              <h1 class="h3 mb-2 text-gray-800 mt-5">Tables Profil Client</h1>
                              <h5 class="card-title" style="color:#1053BB;">Demandes</h5>
        
                              <!-- DataTales Example -->
                              <div class="card shadow mb-4 mt-4">
                                <div class="card-header py-3">
                                  <h6 class="m-0 font-weight-bold text-primary">Filtres</h6>
                                </div>
                                <div class="card-body">
                                  <div class="table-responsive">
                                    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                                      <thead>
                                        <tr>
                                          <!-- Position Column -->
                                          <ng-container matColumnDef="mail">
                                            <th mat-header-cell *matHeaderCellDef> Adresse É-mail </th>
                                            <td mat-cell *matCellDef="let element"> {{element.mail}} </td>
                                          </ng-container>
                                        </tr>
                                        <tr>
                                          <!-- Position Column -->
                                          <ng-container matColumnDef="nom">
                                            <th mat-header-cell *matHeaderCellDef> Nom/Prénom </th>
                                            <td mat-cell *matCellDef="let element"> {{element.nom}} </td>
                                          </ng-container>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr>
                                          <!-- Name Column -->
                                          <ng-container matColumnDef="cv">
                                            <th mat-header-cell *matHeaderCellDef>IdentityCard Copy </th>
                                            <td mat-cell *matCellDef="let element">
                                              <a href="{{element.cv}}">pdf</a>
                                            </td>
                                          </ng-container>
                                        </tr>
                                        <tr>
                                          <!-- Name Column -->
                                          <ng-container matColumnDef="lettre">
                                            <th mat-header-cell *matHeaderCellDef>Besoin </th>
                                            <td mat-cell *matCellDef="let element">
                                              <a href="{{element.lettre}}">pdf</a>
                                            </td>
                                          </ng-container>
                                        </tr>
                                        <tr>
                                          <!-- Name Column -->
                                          <ng-container matColumnDef="lien">
                                            <th mat-header-cell *matHeaderCellDef>Lien </th>
                                            <td mat-cell *matCellDef="let element">
                                              <a href="{{element.lien}}">http</a>
                                            </td>
                                          </ng-container>
                                        </tr>
                                        <tr>
                                          <!-- Weight Column -->
                                          <ng-container matColumnDef="weight">
                                            <th mat-header-cell *matHeaderCellDef> Etat</th>
                                            <td mat-cell *matCellDef="let element"> {{element.weight}} </td>
                                          </ng-container>
                                          <td></td>
                                        </tr>
                                        <tr>
                                          <!-- Button Column -->
                                          <ng-container matColumnDef="button">
                                            <th mat-header-cell *matHeaderCellDef> Accepter/Refuser</th>
                                            <td mat-cell *matCellDef="let element">
                                              <!-- Bouton "Accès" -->
                                              <button class="btn btn-block text-white"
                                                style="background-color: #1053BB;width: 200px;" data-toggle="modal"
                                                (click)="onRowClick(element.mail)" data-target="#myModal">Accepter</button>
                                                <button class="btn btn-block text-white"
                                                style="background-color: yellow;width: 200px;" (click)="openRejectionModal(element.mail)">Refuser
                                              </button>

                                              <!-- Popup -->
                                              <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModal" aria-hidden="true"  data-backdrop="false">
                                                <div class="modal-dialog">
                                                  <div class="modal-content">
                                                    <form class="form-horizontal" name="form_questions" (ngSubmit)="f.form.valid && sendTestToCandidate(element.id)"
                                                      #f="ngForm" novalidate>
                                                      <div class="modal-header">
                                                        <h4 class="modal-title">Are you sure you want to accept it</h4>
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                      </div>
                                                      <div class="modal-body">
                                                     
                                                        <span [ngClass]="{ 'text-muted': loading }">{{ message }}</span>
                                                        <span *ngIf="loading" class="spinner-border spinner-border-sm ml-2" role="status" aria-hidden="true"></span>
                                                      </div>
                                                      <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                                                        <button [disabled]="loading" (click)="sendLink(element.mail, link, element.id)" type="submit"
                                                          class="btn btn-secondary">Yes</button>
                                                      </div>
                                                    </form>
                                                  </div>
                                                </div>
                                              </div>
                                              

                                            </td>

                                          </ng-container>

                                          <!-- Button Column -->
                                          <ng-container matColumnDef="btn">
                                            <th mat-header-cell *matHeaderCellDef> </th>
                                            <td mat-cell *matCellDef="let element">
                                              <div id="delete-event" class="delete-event modal fade" >
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                      <div class="modal-header">
                                                        <h2>Are you sure to send a rejection mail?</h2>
                                                        <h4>
                                                          <span [ngClass]="{ 'text-muted': loading }">{{ message }}</span>
                                                          <span *ngIf="loading" class="spinner-border spinner-border-sm ml-2" role="status" aria-hidden="true"></span>
                                                        </h4>
                                                      </div>
                                                      
                                                        <div class="modal-footer">
                                                            <button class="btn btn-primary" (click)=" sendRejectionToCandidate(element.id)">Yes</button>
                                                            <button class="btn btn-danger" (click)="closeModal('.delete-event')">No</button>
                                                        </div>
                                                    </div>
                                              
                                                </div>
                                              
                                              </div>
                                            </td>
                                          </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- /.container-fluid -->
                          </div>
                          <!-- End of Main Content -->
                        </div>
                        <!-- End of Main Content -->
                      </div>
                      <!-- End of Content Wrapper -->
                    </div>
                    <!-- End of Page Wrapper -->
                  </div>
                </div>
                <app-footer></app-footer>
                